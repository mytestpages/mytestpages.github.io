{"version":3,"sources":["./src/app/admin/admin-dashboard/admin-dashboard.component.html","./src/app/admin/admin-dashboard/admin-dashboard.component.ts","./src/app/admin/admin-routing.module.ts","./src/app/admin/admin-order-cards/admin-order-cards.component.html","./src/app/admin/admin-order-cards/admin-order-cards.component.ts","./src/app/admin/admin-layout/admin-layout.component.html","./src/app/admin/admin-layout/admin-layout.component.ts","./src/app/admin/admin.module.ts","./src/app/admin/admin-profile/admin-profile.component.html","./src/app/admin/admin-profile/admin-profile.component.ts"],"names":[],"mappings":"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","file":"admin-admin-module.js","sourcesContent":["  <div class=\"row mt-4\">\r\n    <div class=\"col-md-2 text-сenter\">\r\n      <h4 class=\"\">Фильтры по статусу</h4>\r\n      <!-- Статус \"НОВЫЙ\" ->> СФОРМИРОВАТЬ; статус \"УКОМПЛЕКТОВАН\" ->> В РАБОТУ; статус \"В РАБОТЕ\"; статус \"ДОСТАВЛЯЕТСЯ\"-->\r\n      <button *ngIf=\"this.userRole == 'Менеджер'\" id=\"Все\" (click)=\"changeFilter('Все')\"\r\n        class=\"ml-2 mb-2 w-100 btn btn-warning\"> Все\r\n        заказы\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер'\" id=\"Новый\" (click)=\"changeFilter('Новый')\"\r\n        class=\"ml-2 mb-2 w-100 btn btn-danger\">\r\n        Новый\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер'\" id=\"Сформирован\" (click)=\"changeFilter('Сформирован')\"\r\n        class=\"ml-2 mb-2 w-100 btn btn-primary\">\r\n        Сформирован\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер' || this.userRole == 'Склад'\" id=\"Комплектуется\"\r\n        (click)=\"changeFilter('Комплектуется')\" class=\"ml-2 mb-2 w-100 btn btn-primary\">\r\n        Комплектуется\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер' || this.userRole == 'Склад'\" id=\"Укомплектован\"\r\n        (click)=\"changeFilter('Укомплектован')\" class=\"ml-2 mb-2 w-100 btn btn-primary\">\r\n        Укомплектован\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер' || this.userRole == 'Курьер'\" id=\"Вработе\"\r\n        (click)=\"changeFilter('В работе')\" class=\"ml-2 mb-2 w-100 btn btn-primary\">\r\n        В работе\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер' || this.userRole == 'Курьер'\" id=\"Доставляется\"\r\n        (click)=\"changeFilter('Доставляется')\" class=\"ml-2 mb-2 w-100 btn btn-primary\">\r\n        Доставляется\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер' || this.userRole == 'Курьер'\" id=\"Готов\"\r\n        (click)=\"changeFilter('Готов')\" class=\"ml-2 mb-2 w-100 btn btn-success\">\r\n        Готов\r\n      </button>\r\n      <button *ngIf=\"this.userRole == 'Менеджер'\" id=\"Отменен\" (click)=\"changeFilter('Отменен')\"\r\n        class=\"ml-2 mb-2 w-100 btn btn-danger\">\r\n        Отменен\r\n      </button>\r\n    </div>\r\n\r\n\r\n    <div class=\"col-md-10\">\r\n      <h3 class=\"mb-2 mt-2\">Список заказов по фильтру \"{{this.currentCategory}}\"</h3>\r\n      <div *ngIf=\"isAll;else filter\">\r\n        <div *ngIf=\"this.orderList!==undefined; else loading\">\r\n          <div *ngIf=\"this.orderList.length; else empty\">\r\n            <div class=\"order-list\" *ngFor=\"let order of this.orderList ; trackBy: trackByItems\">\r\n              <app-admin-order-cards [order]=\"order \"></app-admin-order-cards>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ng-template #filter>\r\n        <div *ngIf=\"this.filterArr!==undefined; else loading\">\r\n          <div *ngIf=\"this.filterArr.length; else empty\">\r\n            <div class=\"order-list\" *ngFor=\"let order of this.filterArr ; trackBy: trackByItems\">\r\n              <app-admin-order-cards [order]=\"order \"></app-admin-order-cards>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n\r\n    <ng-template #empty>Заказов нет...</ng-template>\r\n    <ng-template #loading>Загрузка...</ng-template>\r\n","import { Route } from '@angular/compiler/src/core';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Order } from '../../models/order';\r\nimport { OrderService } from '../../services/order.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-dashboard',\r\n  templateUrl: './admin-dashboard.component.html',\r\n  styleUrls: ['./admin-dashboard.component.css']\r\n})\r\n\r\n// в компоненты хранятся все заказы, здесь же они фильтруются и передаются дочернему компоненту списка\r\nexport class AdminDashboardComponent implements OnInit {\r\n\r\n  constructor(private orderService:OrderService, private router: Router, private route:ActivatedRoute) { }\r\n  \r\n  userData: any;\r\n  userRole: string;\r\n  orderList:any[];\r\n  filterArr:any[];\r\n  isAll:boolean;\r\n\r\n  ngOnInit(): void {\r\n    this.userData = JSON.parse(localStorage.getItem('user'));\r\n    this.userRole = localStorage.getItem('role')\r\n      if(this.userRole=='Менеджер'){\r\n        this.isAll = true;\r\n        this.currentCategory = \"Все\"\r\n        this.getOrders();\r\n      } if(this.userRole == 'Склад'){\r\n        this.isAll = false;\r\n        this.currentCategory = \"Комплектуются\"\r\n        this.changeFilter(\"Комплектуется\")\r\n      } if(this.userRole == 'Курьер'){\r\n        this.isAll = false;\r\n        this.currentCategory = \"В работе\"\r\n        this.changeFilter(\"В работе\")\r\n      }\r\n  }\r\n\r\n  getOrders() {\r\n    let all = this.orderService.getAllOrdersId().subscribe(items => {\r\n      this.orderList = items;\r\n    })\r\n  }\r\n\r\n  currentCategory: string;\r\n  changeFilter(filter) {\r\n    this.currentCategory = filter;\r\n    if (filter == \"Все\") {\r\n      this.isAll = true;\r\n      this.filterArr = this.orderList;\r\n    } else {\r\n      this.isAll = false;\r\n      let sub = this.orderService.getOrdersByStatus(filter).subscribe(items=>{\r\n        this.filterArr = items;\r\n        sub.unsubscribe()\r\n      })\r\n    }\r\n  }\r\n\r\ntrackByItems(index: number, order: Order): string { return order.id; }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { isEmployer } from '../auth.guard';\r\nimport { PageNotFoundComponent } from '../page-not-found/page-not-found.component';\r\nimport { AdminDashboardComponent } from './admin-dashboard/admin-dashboard.component';\r\nimport { AdminLayoutComponent } from './admin-layout/admin-layout.component';\r\nimport { AdminProfileComponent } from './admin-profile/admin-profile.component';\r\n\r\nconst routes: Routes = [\r\n    { \r\n        path: '', component: AdminLayoutComponent, children: [\r\n        { path: '', redirectTo: 'admin-panel', pathMatch: 'full' },\r\n        { path: 'admin-panel', component: AdminDashboardComponent , canActivate:[isEmployer]},\r\n        { path: 'profile', component: AdminProfileComponent,canActivate:[isEmployer] },\r\n        {path: '**', component: PageNotFoundComponent}\r\n      ] \r\n    }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminRoutingModule { }\r\n","<div class=\"card mb-3\">\n  <h5 class=\"card-header\">Заказ № {{order.id}}</h5>\n  <div class=\"card-body\">\n    <h5> <b> Статус заказа:</b> {{order.order.status}}</h5>\n <b>Дата оформления: </b>{{order.order.date.seconds*1000  | date:'medium':'ru'}}\n    <div class=\"row mb-2\">\n      <div class=\"col\">\n        <b> Имя отправителя: </b>{{order.order.customer_name}}\n      </div>\n      <div class=\"col\">\n        <b> Имя получателя:</b> {{order.order.recipient_name}}\n      </div>\n    </div>\n    <div class=\"row mb-2\">\n      <div class=\"col\">\n        <b> Фамилия отправителя:</b> {{order.order.customer_lastname}}\n      </div>\n      <div class=\"col\">\n        <b> Фамилия получателя:</b> {{order.order.recipient_lastname}}\n      </div>\n    </div>\n    <div class=\"row mb-2\">\n      <div class=\"col\">\n        <b>Адрес отправления:</b> {{order.order.start}}\n      </div>\n      <div class=\"col\">\n        <b>Адрес получения:</b> {{order.order.end}}\n      </div>\n    </div>\n    <b> Содержимое посылки: </b>{{order.order.description}}\n\n  </div>\n  <div class=\"col-10 ml-auto mr-auto mb-2\">\n    <button (click)=\"changeStatus(order.id,'Сформирован')\" class=\"btn btn-primary ml-2\"\n      [disabled]='order.order.status!==\"Новый\"' *ngIf=\"authService.userRole=='Менеджер'\">Сформировать</button>\n\n    <button (click)=\"changeStatus(order.id, 'Комплектуется')\" class=\"btn btn-primary ml-2\"\n      [disabled]='order.order.status!==\"Сформирован\"' *ngIf=\"authService.userRole=='Менеджер'\">К комплектации</button>\n\n    <button (click)=\"changeStatus(order.id, 'Укомплектован')\" class=\"btn btn-primary ml-2\"\n      [disabled]='order.order.status!==\"Комплектуется\"' *ngIf=\"authService.userRole=='Склад'\">Укомплектовать</button>\n\n    <button (click)=\"changeStatus(order.id, 'В работе')\" class=\"btn btn-primary ml-2\"\n      [disabled]='order.order.status!==\"Укомплектован\"' *ngIf=\"authService.userRole=='Менеджер'\">В работу</button>\n\n    <button (click)=\"changeStatus(order.id, 'Доставляется')\" class=\"btn btn-primary ml-2\"\n      [disabled]='order.order.status!==\"В работе\"' *ngIf=\"authService.userRole=='Курьер'\">Принят курьером</button>\n\n    <button (click)=\"changeStatus(order.id, 'Готов')\" class=\"btn btn-success ml-2\"\n      [disabled]='order.order.status!==\"Доставляется\"' *ngIf=\"authService.userRole=='Курьер'\">Готов</button>\n  </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Order } from '../../models/order';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { OrderService } from '../../services/order.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-order-cards',\r\n  templateUrl: './admin-order-cards.component.html',\r\n  styleUrls: ['./admin-order-cards.component.css']\r\n})\r\nexport class AdminOrderCardsComponent implements OnInit {\r\n  @Input() order: {\r\n    id:string;\r\n    order:any;\r\n  };\r\n\r\n  constructor(public authService:AuthService, private orderService:OrderService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  changeStatus(id, newStatus){\r\n    this.orderService.changeOrderStatus(id, newStatus);\r\n    this.watchChanges(id);\r\n  }\r\n\r\n  watchChanges(id){\r\n    this.orderService.docChanges(id).subscribe(item=>{\r\n      this.order = item;\r\n    })\r\n  }\r\n}\r\n","<nav class=\"navbar navbar-dark bg-dark navbar-expand-lg\">\n  <div class=\"container\">\n\n    <a class=\"navbar-brand\" routerLink=\"/admin/admin-panel\">MS Logistics | Панель работника</a>\n    <ul class=\"navbar-nav ml-auto\">\n      <li class=\"nav-item\" *ngIf=\"this.authService.isAuth\">\n        <a ngif class=\"nav-link\" routerLinkActive=\"active\" routerLink=\"profile\">Мой профиль</a>\n      </li>\n      <li class=\"nav-item\" *ngIf=\"this.authService.isAuth\">\n        <button (click)=\"logout()\" class=\"btn btn-danger\">Выйти</button>\n      </li>\n    </ul>\n  </div>\n</nav>\n\n<div class=\"container\">\n  <div class=\"wrapper\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.css']\n})\nexport class AdminLayoutComponent implements OnInit {\n\n  constructor(public authService:AuthService) { }\n\n  ngOnInit(): void {\n  }\n\n  logout(){\n    this.authService.logout();\n  }\n\n}\n","\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { AdminDashboardComponent } from './admin-dashboard/admin-dashboard.component';\r\nimport { AdminLayoutComponent } from './admin-layout/admin-layout.component';\r\n\r\nimport { AdminOrderCardsComponent } from './admin-order-cards/admin-order-cards.component';\r\nimport { AdminProfileComponent } from './admin-profile/admin-profile.component';\r\nimport { AdminRoutingModule } from './admin-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AdminDashboardComponent,\r\n    AdminLayoutComponent,\r\n    AdminOrderCardsComponent,\r\n    AdminProfileComponent,\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    AdminRoutingModule,\r\n    CommonModule\r\n\r\n  ],\r\n  providers: [],\r\n  bootstrap: []\r\n})\r\nexport class AdminModule { }\r\n","\n  <div *ngIf=\"this.userData && this.userRole\">\n    <h3>Данные аккаунта</h3><br>\n    <b> Email пользователя:</b> {{this.userData.email}} <br><br>\n    <b> Роль:</b> {{this.userRole}} <br>\n  </div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-admin-profile',\n  templateUrl: './admin-profile.component.html',\n  styleUrls: ['./admin-profile.component.css']\n})\nexport class AdminProfileComponent implements OnInit {\n  userData: any;\n  userRole: string;\n  constructor() { }\n  ngOnInit(): void {\n    this.userRole = localStorage.getItem('role')\n    this.userData = JSON.parse(localStorage.getItem('user'));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}